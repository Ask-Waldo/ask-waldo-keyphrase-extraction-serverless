apiVersion: kubeless.io/v1beta1
kind: Function
metadata:
 name: keyphrase-extractor
 namespace: default
 label:
   created-by: kubeless
   function: keyphrase-extractor
spec:
 runtime: python3.8
 timeout: "560"
 handler: handler.extract_keyphrases
 deps: ""
 # Checksum is included for security purposes and ensures our files are not tampered with.
 # The checksum can be calculated via: openssl dgst -sha256 ./package.zip
 checksum: sha256:5a2e95e4379e18ad138a432d7b59ac86e7f49b90c5726bf90f34cfa45d54614b
 function-content-type: url+zip
 function: https://github.com/Ask-Waldo/ask-waldo-keyphrase-extraction-serverless/blob/master/zip/package.zip?raw=true
 deployment:
    spec:
      template:
        spec:
          containers:
          - env:
             - name: SENTENCE_TRANSFORMERS_HOME
               value: "./"
             - name: MODEL_PATH
               value: "./sentence-transformers_average_word_embeddings_glove.6B.300d"
